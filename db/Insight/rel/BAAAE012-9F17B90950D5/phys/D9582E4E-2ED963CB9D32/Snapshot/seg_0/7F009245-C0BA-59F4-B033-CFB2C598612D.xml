<?xml version = '1.0' encoding = 'UTF-8'?>
<SnapshotOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.SnapshotOraclev10g" name="PROJECT_PROFIT_VIEW" directorySegmentName="seg_0" id="7F009245-C0BA-59F4-B033-CFB2C598612D">
<sourceConnName>xraydev</sourceConnName>
<sourceObjSchema>XRAYDEV</sourceObjSchema>
<sourceObjName>PROJECT_PROFIT_VIEW</sourceObjName>
<createdBy>maintenance</createdBy>
<createdTime>2015-01-21 03:30:15 UTC</createdTime>
<ownerDesignName>Insight</ownerDesignName>
<action>ON DEMAND</action>
<defaultSegment>NO</defaultSegment>
<refresh>YES</refresh>
<refreshType>FORCE</refreshType>
<subquery>SELECT C.*&lt;br/&gt;  FROM&lt;br/&gt;    (SELECT B.ID,&lt;br/&gt;      B.CLIENT_NAME,&lt;br/&gt;      B.PROJECT_NAME,&lt;br/&gt;      B.PROJECT_DESCRIPTION,&lt;br/&gt;      B.PROJECT_AMOUNT,&lt;br/&gt;      B.COMMENTS,&lt;br/&gt;      B.START_DATE,&lt;br/&gt;      B.END_DATE,&lt;br/&gt;      B.PRO_TYP_ID,&lt;br/&gt;      B.PRO_STA_ID,&lt;br/&gt;      B.BUS_UNI_ID,&lt;br/&gt;      B.ESTIMATOR_ID,&lt;br/&gt;      B.SALES_PERSON_ID,&lt;br/&gt;      B.ENGAGEMENT_MANAGER_ID,&lt;br/&gt;      B.DELIVERY_MANAGER_ID,&lt;br/&gt;      B.PIP_ID,&lt;br/&gt;      OVERDUE_DELIVERY,&lt;br/&gt;      OVERDUE_INVOICING,&lt;br/&gt;      OVERDUE_PAYMENT,&lt;br/&gt;      OVERDUE_INVOICING_AMOUNT,&lt;br/&gt;      OVERDUE_PAYMENT_AMOUNT,&lt;br/&gt;      PROFIT_AMOUNT,&lt;br/&gt;      XRAYLOGIC.GET_DELIVERY_HEALTH(B.ID, SYSDATE, OVERDUE_DELIVERY, OVERDUE_INVOICING, OVERDUE_PAYMENT, CONTRIBUTION_AMOUNT) DELIVERY_HEALTH,&lt;br/&gt;      DECODE(SIGN(PROFIT_AMOUNT), -1, &apos;Negative&apos;, 0, &apos;Break-even&apos;, &apos;Positive&apos;) PROFIT_STATUS,&lt;br/&gt;      CONTRIBUTION_AMOUNT,&lt;br/&gt;      DECODE(SIGN(CONTRIBUTION_AMOUNT), -1, &apos;Negative&apos;, 0, &apos;Break-even&apos;, &apos;Positive&apos;) CONTRIBUTION_STATUS&lt;br/&gt;    FROM&lt;br/&gt;      (SELECT A.ID,&lt;br/&gt;        A.CLIENT_NAME,&lt;br/&gt;        A.PROJECT_NAME,&lt;br/&gt;        A.PROJECT_DESCRIPTION,&lt;br/&gt;        A.PROJECT_AMOUNT,&lt;br/&gt;        A.COMMENTS,&lt;br/&gt;        A.START_DATE,&lt;br/&gt;        A.END_DATE,&lt;br/&gt;        A.PRO_TYP_ID,&lt;br/&gt;        A.PRO_STA_ID,&lt;br/&gt;        A.BUS_UNI_ID,&lt;br/&gt;        A.ESTIMATOR_ID,&lt;br/&gt;        A.SALES_PERSON_ID,&lt;br/&gt;        A.ENGAGEMENT_MANAGER_ID,&lt;br/&gt;        A.DELIVERY_MANAGER_ID,&lt;br/&gt;        A.PIP_ID,&lt;br/&gt;        XRAYLOGIC.GET_OVERDUE_DELIVERY_COUNT(A.ID, SYSDATE) OVERDUE_DELIVERY,&lt;br/&gt;        XRAYLOGIC.GET_OVERDUE_INVOICING_COUNT(A.ID, SYSDATE) OVERDUE_INVOICING,&lt;br/&gt;        XRAYLOGIC.GET_OVERDUE_PAYMENT_COUNT(A.ID, SYSDATE) OVERDUE_PAYMENT,&lt;br/&gt;        XRAYLOGIC.GET_OVERDUE_INVOICING_AMOUNT(A.ID, SYSDATE) OVERDUE_INVOICING_AMOUNT,&lt;br/&gt;        XRAYLOGIC.GET_OVERDUE_PAYMENT_AMOUNT(A.ID, SYSDATE) OVERDUE_PAYMENT_AMOUNT,&lt;br/&gt;        XRAYLOGIC.GET_PROJECT_INVOICED_AMOUNT(A.ID, SYSDATE, &apos;Y&apos;) - XRAYLOGIC.GET_PROJECT_TOTAL_COST(A.ID, SYSDATE, &apos;Y&apos;) PROFIT_AMOUNT,&lt;br/&gt;        XRAYLOGIC.GET_PROJECT_INVOICED_AMOUNT(A.ID, SYSDATE, &apos;Y&apos;) - XRAYLOGIC.GET_PROJECT_DIRECT_COST(A.ID, SYSDATE, &apos;Y&apos;) CONTRIBUTION_AMOUNT&lt;br/&gt;      FROM PROJECTS A&lt;br/&gt;      WHERE A.PRO_TYP_ID &lt;&gt; XRAYLOGIC.GET_DEFAULT_PROJECT_TYPE_ID&lt;br/&gt;      ) B&lt;br/&gt;    ) C&lt;br/&gt;  WHERE C.DELIVERY_HEALTH LIKE &apos;%&apos;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</subquery>
<useIndex>YES</useIndex>
<with>ROWID</with>
</SnapshotOraclev10g>